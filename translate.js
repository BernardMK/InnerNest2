// translations.js - Complete translation system for InnerNest

const translations = {
    en: {
        // Navigation
        nav: {
            home: "Home",
            blog: "Blog",
            chat: "Chat",
            book: "Book"
        },
        
        // Hero Section
        hero: {
            title: "Welcome to Your Mental Health Journey",
            subtitle: "InnerNest is your safe space for mental wellness, self-discovery, and growth. Connect with professionals, access resources, and build resilience.",
            games: "Games",
            gamesDesc: "For stress relief",
            support: "Support",
            supportDesc: "Professional guidance",
            mindfulness: "Mindfulness",
            mindfulnessDesc: "Mental wellness"
        },
        
        // Conditions Section
        conditions: {
            title: "Understanding Mental Health Conditions",
            anxiety: {
                title: "Anxiety Disorders",
                description: "Learn about anxiety symptoms, coping strategies, and treatment options.",
                tags: ["GAD", "Panic", "Social"]
            },
            depression: {
                title: "Depression",
                description: "Understanding depression, its impact, and paths to recovery and support.",
                tags: ["Major", "Seasonal", "Bipolar"]
            },
            stress: {
                title: "Stress Management",
                description: "Effective techniques and strategies for managing daily stress and pressure.",
                tags: ["Work", "Life", "Chronic"]
            },
            trauma: {
                title: "Trauma & PTSD",
                description: "Support and resources for trauma survivors and PTSD recovery.",
                tags: ["PTSD", "Complex", "Recovery"]
            },
            relationships: {
                title: "Relationship Issues",
                description: "Guidance for improving relationships and communication skills.",
                tags: ["Couples", "Family", "Social"]
            },
            selfcare: {
                title: "Self-Care & Wellness",
                description: "Building healthy habits and sustainable self-care practices.",
                tags: ["Mindfulness", "Habits", "Balance"]
            },
            biPolarDisorder: {
                title: "Bipolar Disorder",
                description: "Learn about Bipolar disorder symptoms, coping strategies, and treatment options.",
                tags: ["Mania", "Depression", "Mood"]
            },
            panicdisorder: {
                title: "Panic Disorder",
                description: "Understanding Panic Disorder, its impact, and paths to recovery and support.",
                tags: ["Anxiety", "Panic", "Fear"]
            },
            delusionaldisorder: {
                title: "Delusional Disorder",
                description: "Effective techniques and strategies for managing daily stress and pressure.",
                tags: ["Paranoia", "Belief", "Persecution"]
            },
            eatingDisorder: {
                title: "Eating Disorder",
                description: "Support and resources for individuals struggling with eating disorders.",
                tags: ["Eating", "Binge", "Bulimia"]
            },
            Schizophrenia: {
                title: "Schizophrenia",
                description: "Guidance for managing symptoms and improving quality of life.",
                tags: ["Psychosis", "Vision", "Delusions"]
            },
            HistrionicPersonalityDisorder: {
                title: "Histrionic Personality Disorder",
                description: "Building healthy habits and sustainable self-care practices.",
                tags: ["Emotional", "Dramatic", "Pose"]
            },
            loadMore: "Load More"
        },
        
        // Blog Section
        blog: {
            title: "Welcome to Your Mental Health Journey",
            subtitle: "InnerNest is your safe space for mental wellness, self-discovery, and growth. Connect with professionals, access resources, and build resilience.",
            posts: {
                post1: {
                    title: "Finding Calm When My Heart Won't Slow Down",
                    description: "After five years of daily panic attacks, I discovered grounding exercises that turned my anxiety into a manageable rhythm.",
                    author: "By Rajan Patel"
                },
                post2: {
                    title: "Why Therapy Is My Lifeline, Not a Luxury",
                    description: "When depression made me feel invisible, a consistent therapist helped me rebuild my self-worth, one session at a time.",
                    author: "By Mara Kim"
                },
                post3: {
                    title: "Together We Thrive: Peer Support in Recovery",
                    description: "Joining a local support group gave me both accountability and compassion, proving that shared experiences heal faster.",
                    author: "By Emily Torres"
                },
                post4: {
                    title: "Mindfulness at Work: A Daily Reset",
                    description: "Setting aside ten minutes for focused breathing at lunchtime reduced my stress spike and increased workplace creativity.",
                    author: "By Arun Gupta"
                },
                post5: {
                    title: "Building Resilience After Trauma",
                    description: "Through guided imagery and community art projects, I reclaimed joy in small moments, learning that healing is a journey, not a destination.",
                    author: "By Sofia Reyes"
                },
                post6: {
                    title: "Digital Detox & Mental Clarity",
                    description: "Cutting screen time to 30 minutes a day helped me rediscover reading, journaling, and deep breathing — all of which brought calm to my mind.",
                    author: "By Liam Patel"
                }
            },
            testimony: "Testimony",
            comments: "Comments"
        },
        
        // Booking Section
        booking: {
            title: "Schedule Appointment",
            namePlaceholder: "Your Name",
            emailPlaceholder: "Your Email",
            phonePlaceholder: "Your Phone",
            datePlaceholder: "Your Booking Date",
            subjectPlaceholder: "Subject",
            messagePlaceholder: "Message"
        },
        
        // Chat Section
        chat: {
            crisisBanner: "If you're in crisis, please call 988 (Suicide & Crisis Lifeline) or 911 for immediate help",
            userProfile: "Anonymous User",
            safeSpace: "Safe & Confidential",
            moodQuestion: "How are you feeling?",
            quickTools: "Quick Tools",
            breathingExercise: "Breathing Exercise",
            guidedMeditation: "Guided Meditation",
            journalEntry: "Journal Entry",
            copingStrategies: "Coping Strategies",
            sessionInfo: "Session Info",
            duration: "Duration",
            encrypted: "End-to-end encrypted",
            endSession: "End Session",
            supportAssistant: "Support Assistant",
            available: "Available 24/7 • Confidential Support",
            clearChat: "Clear Chat",
            welcomeTitle: "Welcome to InnerNest",
            welcomeMessage: "This is a safe, confidential space where you can express yourself freely.",
            confidential: "100% Confidential",
            nonjudgmental: "Non-judgmental Support",
            available247: "Available 24/7",
            promptsLabel: "Quick conversation starters:",
            feelingAnxious: "I'm feeling anxious",
            needTalk: "Need someone to talk to",
            troubleSleeping: "Trouble sleeping",
            feelingOverwhelmed: "Feeling overwhelmed",
            copingStrategiesPrompt: "Coping strategies",
            messagePlaceholder: "Type your message here... Remember, this is a safe space.",
            pressEnter: "Press Enter to send, Shift+Enter for new line"
        },
        
        // Footer
        footer: {
            tagline: "Your sanctuary for mental wellness and growth.",
            quickLinks: "Quick Links",
            home: "Home",
            services: "Services",
            blog: "Blog",
            contact: "Contact",
            support: "Support",
            crisis: "Crisis Support",
            resources: "Resources",
            faq: "FAQ",
            copyright: "© 2025 InnerNest. All rights reserved.",
            privacy: "Privacy Policy",
            terms: "Terms of Service"
        },
        
        // Emergency Contacts
        emergency: {
            title: "Crisis Support Resources",
            subtitle: "You are not alone. Help is available 24/7.",
            ohioTitle: "Ohio Hot-Lines",
            nationalTitle: "National Hot-Lines",
            suicidePrevention: "Suicide Prevention",
            call: "Call",
            text: "Text",
            website: "Website",
            immediateHelp: "If you're in immediate danger, call 911",
            close: "Close"
        }
    },
    
    es: {
        // Navegación
        nav: {
            home: "Inicio",
            blog: "Blog",
            chat: "Chat",
            book: "Reservar"
        },
        
        // Sección Principal
        hero: {
            title: "Bienvenido a Tu Viaje de Salud Mental",
            subtitle: "InnerNest es tu espacio seguro para el bienestar mental, el autodescubrimiento y el crecimiento. Conéctate con profesionales, accede a recursos y construye resiliencia.",
            games: "Juegos",
            gamesDesc: "Para aliviar el estrés",
            support: "Apoyo",
            supportDesc: "Orientación profesional",
            mindfulness: "Mindfulness",
            mindfulnessDesc: "Bienestar mental"
        },
        
        // Sección de Condiciones
        conditions: {
            title: "Comprendiendo las Condiciones de Salud Mental",
            anxiety: {
                title: "Trastornos de Ansiedad",
                description: "Aprende sobre los síntomas de ansiedad, estrategias de afrontamiento y opciones de tratamiento.",
                tags: ["TAG", "Pánico", "Social"]
            },
            depression: {
                title: "Depresión",
                description: "Comprendiendo la depresión, su impacto y caminos hacia la recuperación y el apoyo.",
                tags: ["Mayor", "Estacional", "Bipolar"]
            },
            stress: {
                title: "Manejo del Estrés",
                description: "Técnicas y estrategias efectivas para manejar el estrés diario y la presión.",
                tags: ["Trabajo", "Vida", "Crónico"]
            },
            trauma: {
                title: "Trauma y TEPT",
                description: "Apoyo y recursos para sobrevivientes de trauma y recuperación de TEPT.",
                tags: ["TEPT", "Complejo", "Recuperación"]
            },
            relationships: {
                title: "Problemas de Relaciones",
                description: "Orientación para mejorar las relaciones y habilidades de comunicación.",
                tags: ["Parejas", "Familia", "Social"]
            },
            selfcare: {
                title: "Autocuidado y Bienestar",
                description: "Construyendo hábitos saludables y prácticas sostenibles de autocuidado.",
                tags: ["Mindfulness", "Hábitos", "Balance"]
            },
            biPolarDisorder: {
                title: "Trastorno Bipolar",
                description: "Aprende sobre los síntomas del trastorno bipolar, estrategias de afrontamiento y opciones de tratamiento.",
                tags: ["Manía", "Depresión", "Estado de ánimo"]
            },
            panicdisorder: {
                title: "Trastorno de Pánico",
                description: "Comprendiendo el trastorno de pánico, su impacto y caminos hacia la recuperación y el apoyo.",
                tags: ["Ansiedad", "Pánico", "Miedo"]
            },
            delusionaldisorder: {
                title: "Trastorno Delirante",
                description: "Técnicas y estrategias efectivas para manejar el estrés diario y la presión.",
                tags: ["Paranoia", "Creencia", "Persecución"]
            },
            eatingDisorder: {
                title: "Trastorno Alimentario",
                description: "Apoyo y recursos para personas que luchan con trastornos alimentarios.",
                tags: ["Alimentación", "Atracón", "Bulimia"]
            },
            Schizophrenia: {
                title: "Esquizofrenia",
                description: "Orientación para manejar los síntomas y mejorar la calidad de vida.",
                tags: ["Psicosis", "Visión", "Delirios"]
            },
            HistrionicPersonalityDisorder: {
                title: "Trastorno de Personalidad Histriónico",
                description: "Construyendo hábitos saludables y prácticas sostenibles de autocuidado.",
                tags: ["Emocional", "Dramático", "Pose"]
            },
            loadMore: "Cargar Más"
        },
        
        // Sección de Blog
        blog: {
            title: "Bienvenido a Tu Viaje de Salud Mental",
            subtitle: "InnerNest es tu espacio seguro para el bienestar mental, el autodescubrimiento y el crecimiento. Conéctate con profesionales, accede a recursos y construye resiliencia.",
            posts: {
                post1: {
                    title: "Encontrando la Calma Cuando Mi Corazón No Se Calma",
                    description: "Después de cinco años de ataques de pánico diarios, descubrí ejercicios de conexión a tierra que convirtieron mi ansiedad en un ritmo manejable.",
                    author: "Por Rajan Patel"
                },
                post2: {
                    title: "Por Qué la Terapia Es Mi Salvavidas, No un Lujo",
                    description: "Cuando la depresión me hizo sentir invisible, un terapeuta constante me ayudó a reconstruir mi autoestima, sesión tras sesión.",
                    author: "Por Mara Kim"
                },
                post3: {
                    title: "Juntos Prosperamos: Apoyo Entre Pares en la Recuperación",
                    description: "Unirme a un grupo de apoyo local me dio responsabilidad y compasión, demostrando que las experiencias compartidas sanan más rápido.",
                    author: "Por Emily Torres"
                },
                post4: {
                    title: "Mindfulness en el Trabajo: Un Reinicio Diario",
                    description: "Dedicar diez minutos a la respiración concentrada en el almuerzo redujo mi pico de estrés y aumentó mi creatividad laboral.",
                    author: "Por Arun Gupta"
                },
                post5: {
                    title: "Construyendo Resiliencia Después del Trauma",
                    description: "A través de imágenes guiadas y proyectos de arte comunitario, recuperé la alegría en pequeños momentos, aprendiendo que la curación es un viaje, no un destino.",
                    author: "Por Sofia Reyes"
                },
                post6: {
                    title: "Desintoxicación Digital y Claridad Mental",
                    description: "Reducir el tiempo de pantalla a 30 minutos al día me ayudó a redescubrir la lectura, el diario y la respiración profunda, todo lo cual trajo calma a mi mente.",
                    author: "Por Liam Patel"
                }
            },
            testimony: "Testimonio",
            comments: "Comentarios"
        },
        
        // Sección de Reservas
        booking: {
            title: "Programar Cita",
            namePlaceholder: "Tu Nombre",
            emailPlaceholder: "Tu Email",
            phonePlaceholder: "Tu Teléfono",
            datePlaceholder: "Fecha de Reserva",
            subjectPlaceholder: "Asunto",
            messagePlaceholder: "Mensaje"
        },
        
        // Sección de Chat
        chat: {
            crisisBanner: "Si estás en crisis, llama al 988 (Línea de Vida para Suicidio y Crisis) o al 911 para ayuda inmediata",
            userProfile: "Usuario Anónimo",
            safeSpace: "Seguro y Confidencial",
            moodQuestion: "¿Cómo te sientes?",
            quickTools: "Herramientas Rápidas",
            breathingExercise: "Ejercicio de Respiración",
            guidedMeditation: "Meditación Guiada",
            journalEntry: "Entrada de Diario",
            copingStrategies: "Estrategias de Afrontamiento",
            sessionInfo: "Info de Sesión",
            duration: "Duración",
            encrypted: "Cifrado de extremo a extremo",
            endSession: "Terminar Sesión",
            supportAssistant: "Asistente de Apoyo",
            available: "Disponible 24/7 • Apoyo Confidencial",
            clearChat: "Limpiar Chat",
            welcomeTitle: "Bienvenido a InnerNest",
            welcomeMessage: "Este es un espacio seguro y confidencial donde puedes expresarte libremente.",
            confidential: "100% Confidencial",
            nonjudgmental: "Apoyo Sin Juicios",
            available247: "Disponible 24/7",
            promptsLabel: "Iniciadores de conversación rápidos:",
            feelingAnxious: "Me siento ansioso",
            needTalk: "Necesito hablar con alguien",
            troubleSleeping: "Problemas para dormir",
            feelingOverwhelmed: "Me siento abrumado",
            copingStrategiesPrompt: "Estrategias de afrontamiento",
            messagePlaceholder: "Escribe tu mensaje aquí... Recuerda, este es un espacio seguro.",
            pressEnter: "Presiona Enter para enviar, Shift+Enter para nueva línea"
        },
        
        // Pie de Página
        footer: {
            tagline: "Tu santuario para el bienestar mental y el crecimiento.",
            quickLinks: "Enlaces Rápidos",
            home: "Inicio",
            services: "Servicios",
            blog: "Blog",
            contact: "Contacto",
            support: "Apoyo",
            crisis: "Apoyo en Crisis",
            resources: "Recursos",
            faq: "Preguntas Frecuentes",
            copyright: "© 2025 InnerNest. Todos los derechos reservados.",
            privacy: "Política de Privacidad",
            terms: "Términos de Servicio"
        },
        
        // Contactos de Emergencia
        emergency: {
            title: "Recursos de Apoyo en Crisis",
            subtitle: "No estás solo. La ayuda está disponible 24/7.",
            ohioTitle: "Líneas Directas de Ohio",
            nationalTitle: "Líneas Directas Nacionales",
            suicidePrevention: "Prevención del Suicidio",
            call: "Llamar",
            text: "Texto",
            website: "Sitio Web",
            immediateHelp: "Si estás en peligro inmediato, llama al 911",
            close: "Cerrar"
        }
    }
};

// Language Manager - Single unified class
class LanguageManager {
    constructor() {
        this.currentLanguage = this.getCurrentLanguage();
        this.init();
    }
    
    getCurrentLanguage() {
        // Check if ES button is active in the HTML
        const esBtn = document.querySelector('.lang-btn[data-lang="es"]');
        return esBtn && esBtn.classList.contains('active') ? 'es' : 'en';
    }
    
    init() {
        this.setupEventListeners();
        this.translatePage();
    }
    
    setupEventListeners() {
        // Add click handlers to language buttons
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const newLang = e.target.dataset.lang;
                this.changeLanguage(newLang);
            });
        });
    }
    
    changeLanguage(lang) {
        if (lang === this.currentLanguage) return;
        
        this.currentLanguage = lang;
        
        // Update button states
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.lang === lang);
        });
        
        // Translate page
        this.translatePage();
        
        // Show notification
        this.showNotification(lang === 'en' ? 'Language changed to English' : 'Idioma cambiado a Español');
    }
    
    translatePage() {
        const t = translations[this.currentLanguage];
        
        // Translate navigation
        this.translateElement('.nav-link#home .nav-text', t.nav.home);
        this.translateElement('.nav-link#blog .nav-text', t.nav.blog);
        this.translateElement('.nav-link#chatb .nav-text', t.nav.chat);
        this.translateElement('.nav-link#booka .nav-text', t.nav.book);
        
        // Translate mobile navigation
        const mobileLinks = document.querySelectorAll('.mobile-nav-link');
        if (mobileLinks.length >= 4) {
            mobileLinks[0].childNodes[2].textContent = ' ' + t.nav.home;
            mobileLinks[1].childNodes[2].textContent = ' ' + t.nav.blog;
            mobileLinks[2].childNodes[2].textContent = ' ' + t.nav.chat;
            mobileLinks[3].childNodes[2].textContent = ' ' + t.nav.book;
        }
        
        // Translate hero section
        this.translateElement('.hero-title', t.hero.title);
        this.translateElement('.hero-subtitle', t.hero.subtitle);
        
        // Translate floating cards
        const floatingCards = document.querySelectorAll('.floating-card');
        if (floatingCards.length >= 3) {
            floatingCards[0].querySelector('h3').textContent = t.hero.games;
            floatingCards[0].querySelector('p').textContent = t.hero.gamesDesc;
            floatingCards[1].querySelector('h3').textContent = t.hero.support;
            floatingCards[1].querySelector('p').textContent = t.hero.supportDesc;
            floatingCards[2].querySelector('h3').textContent = t.hero.mindfulness;
            floatingCards[2].querySelector('p').textContent = t.hero.mindfulnessDesc;
        }
        
        // Translate conditions section
        this.translateElement('.description h2', t.conditions.title);
        
        // Translate individual conditions
        this.translateCondition('anxiety', t.conditions.anxiety);
        this.translateCondition('depression', t.conditions.depression);
        this.translateCondition('stress', t.conditions.stress);
        this.translateCondition('trauma', t.conditions.trauma);
        this.translateCondition('relationships', t.conditions.relationships);
        this.translateCondition('selfcare', t.conditions.selfcare);
        this.translateCondition('biPolarDisorder', t.conditions.biPolarDisorder);
        this.translateCondition('panicdisorder', t.conditions.panicdisorder);
        this.translateCondition('delusionaldisorder', t.conditions.delusionaldisorder);
        this.translateCondition('eatingDisorder', t.conditions.eatingDisorder);
        this.translateCondition('Schizophrenia', t.conditions.Schizophrenia);
        this.translateCondition('HistrionicPersonalityDisorder', t.conditions.HistrionicPersonalityDisorder);
        
        // Translate "Load More" button
        this.translateElement('#learnmore h4', t.conditions.loadMore);
        
        // Translate blog section if present
        this.translateBlogSection(t.blog);
        
        // Translate booking section if present
        this.translateBookingSection(t.booking);
        
        // Translate chat section if present
        this.translateChatSection(t.chat);
        
        // Translate footer
        this.translateFooter(t.footer);
    }
    
    translateCondition(id, translation) {
        const element = document.getElementById(id);
        if (!element) return;
        
        const title = element.querySelector('h3');
        const description = element.querySelector('p');
        const tags = element.querySelectorAll('.tag');
        
        if (title) title.textContent = translation.title;
        if (description) description.textContent = translation.description;
        if (tags.length === translation.tags.length) {
            tags.forEach((tag, index) => {
                tag.textContent = translation.tags[index];
            });
        }
    }
    
    translateBlogSection(blogTranslations) {
        // Translate blog posts
        const posts = [
            { selector: '[data-blog-id="1"]', data: blogTranslations.posts.post1 },
            { selector: '[data-blog-id="2"]', data: blogTranslations.posts.post2 },
            { selector: '[data-blog-id="3"]', data: blogTranslations.posts.post3 },
            { selector: '[data-blog-id="4"]', data: blogTranslations.posts.post4 },
            { selector: '[data-blog-id="5"]', data: blogTranslations.posts.post5 },
            { selector: '[data-blog-id="6"]', data: blogTranslations.posts.post6 }
        ];
        
        posts.forEach(post => {
            const element = document.querySelector(post.selector);
            if (!element) return;
            
            const title = element.querySelector('h3');
            const description = element.querySelector('p:not([style])');
            const author = element.querySelector('p[style*="font-size: 0.9rem"]');
            
            if (title) title.textContent = post.data.title;
            if (description) description.textContent = post.data.description;
            if (author) author.textContent = post.data.author;
        });
        
        // Translate "Testimony" heading
        const testimonyHeading = document.querySelector('#description h2');
        if (testimonyHeading && testimonyHeading.textContent.includes('Testimony')) {
            testimonyHeading.textContent = blogTranslations.testimony;
        }
    }
    
    translateBookingSection(bookingTranslations) {
        this.translateElement('#s_appointment h1', bookingTranslations.title);
        this.translatePlaceholder('input[placeholder*="Name"]', bookingTranslations.namePlaceholder);
        this.translatePlaceholder('input[placeholder*="Email"]', bookingTranslations.emailPlaceholder);
        this.translatePlaceholder('input[placeholder*="Phone"]', bookingTranslations.phonePlaceholder);
        this.translatePlaceholder('input[type="date"]', bookingTranslations.datePlaceholder);
        this.translatePlaceholder('input[placeholder*="Subject"]', bookingTranslations.subjectPlaceholder);
        this.translatePlaceholder('#message', bookingTranslations.messagePlaceholder);
    }
    
    translateChatSection(chatTranslations) {
        // Crisis banner
        const crisisBanner = document.querySelector('.crisis-content span');
        if (crisisBanner) {
            const strong = crisisBanner.querySelector('strong');
            if (strong) {
                crisisBanner.childNodes.forEach(node => {
                    if (node.nodeType === 3) { // Text node
                        node.textContent = chatTranslations.crisisBanner.replace('988', strong.textContent);
                    }
                });
            }
        }
        
        // User profile
        this.translateElement('.user-info h3', chatTranslations.userProfile);
        this.translateElement('.user-status', chatTranslations.safeSpace);
        
        // Mood tracker
        this.translateElement('.mood-tracker h4', chatTranslations.moodQuestion);
        
        // Quick tools
        this.translateElement('.quick-tools h4', chatTranslations.quickTools);
        const toolBtns = document.querySelectorAll('.tool-btn span:last-child');
        if (toolBtns.length >= 4) {
            toolBtns[0].textContent = chatTranslations.breathingExercise;
            toolBtns[1].textContent = chatTranslations.guidedMeditation;
            toolBtns[2].textContent = chatTranslations.journalEntry;
            toolBtns[3].textContent = chatTranslations.copingStrategies;
        }
        
        // Session info
        this.translateElement('.session-info h4', chatTranslations.sessionInfo);
        const sessionTimeLabel = document.querySelector('.session-time');
        if (sessionTimeLabel) {
            const timeSpan = sessionTimeLabel.querySelector('span');
            if (timeSpan) {
                sessionTimeLabel.childNodes[0].textContent = chatTranslations.duration + ': ';
            }
        }
        this.translateElement('.session-privacy', `🔒 ${chatTranslations.encrypted}`);
        this.translateElement('.end-session-btn', chatTranslations.endSession);
        
        // Chat header
        this.translateElement('.assistant-info h3', chatTranslations.supportAssistant);
        const assistantStatus = document.querySelector('.assistant-status');
        if (assistantStatus) {
            const statusDot = assistantStatus.querySelector('.status-dot');
            assistantStatus.innerHTML = '';
            if (statusDot) assistantStatus.appendChild(statusDot);
            assistantStatus.appendChild(document.createTextNode(' ' + chatTranslations.available));
        }
        this.translateElement('.clear-chat-btn', chatTranslations.clearChat);
        
        // Welcome message
        this.translateElement('.welcome-message h2', chatTranslations.welcomeTitle);
        this.translateElement('.welcome-message > p', chatTranslations.welcomeMessage);
        
        const features = document.querySelectorAll('.feature span:last-child');
        if (features.length >= 3) {
            features[0].textContent = chatTranslations.confidential;
            features[1].textContent = chatTranslations.nonjudgmental;
            features[2].textContent = chatTranslations.available247;
        }
        
        // Suggested prompts
        this.translateElement('.prompts-label', chatTranslations.promptsLabel);
        const prompts = document.querySelectorAll('.prompt-chip');
        if (prompts.length >= 5) {
            prompts[0].textContent = chatTranslations.feelingAnxious;
            prompts[1].textContent = chatTranslations.needTalk;
            prompts[2].textContent = chatTranslations.troubleSleeping;
            prompts[3].textContent = chatTranslations.feelingOverwhelmed;
            prompts[4].textContent = chatTranslations.copingStrategiesPrompt;
        }
        
        // Input area
        this.translatePlaceholder('#messageInput', chatTranslations.messagePlaceholder);
        this.translateElement('.input-hint span', chatTranslations.pressEnter);
    }
    
    translateFooter(footerTranslations) {
        const footerSections = document.querySelectorAll('.footer-section');
        if (footerSections.length >= 3) {
            // First section
            footerSections[0].querySelector('p').textContent = footerTranslations.tagline;
            
            // Quick Links section
            const quickLinksTitle = footerSections[1].querySelector('h4');
            if (quickLinksTitle) quickLinksTitle.textContent = footerTranslations.quickLinks;
            
            const quickLinks = footerSections[1].querySelectorAll('li a');
            if (quickLinks.length >= 4) {
                quickLinks[0].textContent = footerTranslations.home;
                quickLinks[1].textContent = footerTranslations.services;
                quickLinks[2].textContent = footerTranslations.blog;
                quickLinks[3].textContent = footerTranslations.contact;
            }
            
            // Support section
            const supportTitle = footerSections[2].querySelector('h4');
            if (supportTitle) supportTitle.textContent = footerTranslations.support;
            
            const supportLinks = footerSections[2].querySelectorAll('li a');
            if (supportLinks.length >= 3) {
                supportLinks[0].textContent = footerTranslations.crisis;
                supportLinks[1].textContent = footerTranslations.resources;
                supportLinks[2].textContent = footerTranslations.faq;
            }
        }
        const footerBottom = document.querySelector('.footer-bottom p');
        if (footerBottom) {
            footerBottom.innerHTML = `${footerTranslations.copyright} | ${footerTranslations.privacy} | ${footerTranslations.terms}`;
        }
    }
    
    translateElement(selector, text) {
        const element = document.querySelector(selector);
        if (element) element.textContent = text;
    }
    
    translatePlaceholder(selector, text) {
        const element = document.querySelector(selector);
        if (element) element.placeholder = text;
    }
    
    showNotification(message) {
        // Remove any existing notification
        const existingNotification = document.querySelector('.language-notification');
        if (existingNotification) {
            existingNotification.remove();
        }
        
        const notification = document.createElement('div');
        notification.className = 'language-notification';
        notification.style.cssText = `
            position: fixed;
            top: 100px;
            right: 20px;
            background: linear-gradient(135deg, #6BA292, #588377);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(107, 162, 146, 0.4);
            z-index: 10000;
            font-weight: 600;
            animation: slideInRight 0.3s ease, fadeOut 0.3s ease 2.7s;
        `;
        notification.textContent = message;
        
        // Add animation styles if not already present
        if (!document.getElementById('notification-animations')) {
            const animStyles = document.createElement('style');
            animStyles.id = 'notification-animations';
            animStyles.textContent = `
                @keyframes slideInRight {
                    from {
                        transform: translateX(400px);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
                @keyframes fadeOut {
                    to {
                        opacity: 0;
                        transform: translateX(400px);
                    }
                }
            `;
            document.head.appendChild(animStyles);
        }
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
            if (notification.parentElement) {
                notification.parentElement.removeChild(notification);
            }
        }, 3000);
    }
}

// Initialize language manager when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
        window.languageManager = new LanguageManager();
    });
} else {
    window.languageManager = new LanguageManager();
}

// Export for use in other scripts
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { translations, LanguageManager };
}